<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>í¬ë¦¬ìŠ¤ë§ˆìŠ¤ í€´ì¦ˆ ğŸ„</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            word-break: keep-all;
        }

        body {
            font-family: "Apple SD Gothic Neo", -apple-system, BlinkMacSystemFont,
            "Segoe UI", sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 16px;
            background: #8b0000;
            color: #3b1b0b;
        }

        /* ë°°ê²½ ë³„ íŒ¨í„´ */
        body::before {
            content: "";
            position: fixed;
            inset: 0;
            background-image:
                /* ê¸°ì¡´ ë³„ + ìƒˆ ë³„ë“¤ ì¶”ê°€ */
                    radial-gradient(circle at 10% 20%, #ffd1d1 2px, transparent 3px),
                    radial-gradient(circle at 80% 30%, #ffe4a3 2px, transparent 3px),
                    radial-gradient(circle at 30% 80%, #ffcdd2 2px, transparent 3px),
                    radial-gradient(circle at 70% 75%, #fff59d 2px, transparent 3px),

                        /* ìƒˆ ë³„ë“¤ */
                    radial-gradient(circle at 20% 10%, #fff3b0 2px, transparent 3px),
                    radial-gradient(circle at 50% 15%, #ffe082 2px, transparent 3px),
                    radial-gradient(circle at 90% 20%, #ffd180 2px, transparent 3px),
                    radial-gradient(circle at 15% 50%, #ffe0b2 2px, transparent 3px),
                    radial-gradient(circle at 85% 55%, #fff59d 2px, transparent 3px),
                    radial-gradient(circle at 25% 90%, #ffe4a3 2px, transparent 3px),
                    radial-gradient(circle at 60% 85%, #ffd1d1 2px, transparent 3px),
                    radial-gradient(circle at 95% 70%, #ffcdd2 2px, transparent 3px);

            opacity: 0.45; /* ì¡°ê¸ˆ ë” ì„ ëª…í•˜ê²Œ */
            pointer-events: none;
            z-index: 0;
        }


        .wrapper {
            position: relative;
            z-index: 1;
            max-width: 800px;
            width: 100%;
            background: #8b0000;
            border-radius: 24px;
            padding: 18px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        }

        .inner-card {
            background: #fffdf6;
            border-radius: 18px;
            padding: 24px 18px 28px;
            min-height: 380px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        header {
            text-align: center;
            margin-bottom: 8px;
        }

        header h1 {
            font-size: 1.5rem;
            letter-spacing: 0.1em;
            color: #b71c1c;
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        header p {
            font-size: 0.9rem;
            color: #555;
        }

        .question-box {
            margin-top: 16px;
            text-align: center;
        }

        .question-number {
            font-weight: 700;
            font-size: 1.1rem;
            color: #b71c1c;
            margin-bottom: 6px;
        }

        .question-text {
            font-size: 1.05rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 12px 24px;
            justify-items: center;
            margin-bottom: 16px;
        }

        .option-btn {
            border: none;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
            padding: 8px 10px;
            border-radius: 999px;
            transition: transform 0.1s ease, box-shadow 0.1s ease,
            background-color 0.1s ease, opacity 0.1s ease;
        }

        .option-btn span.star {
            font-size: 1.3rem;
        }

        /* ìƒ‰ìƒ */
        .opt-blue .star {
            color: #7a7cf9;
        }
        .opt-green .star {
            color: #a1ffb2;
        }
        .opt-red .star {
            color: #ffd779;
        }
        .opt-yellow .star {
            color: #ff7b7b;
        }

        .option-btn:hover {
            background-color: #fff3e0;
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
        }

        .option-btn.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
            pointer-events: none;
        }

        .option-text {
            color: #4e342e;
            font-weight: 500;
        }

        .message {
            text-align: center;
            min-height: 32px;
            font-size: 0.95rem;
            margin-bottom: 8px;
        }

        .message.correct {
            color: #1b5e20;
            font-weight: 600;
        }

        .message.wrong {
            color: #c62828;
            font-weight: 600;
        }

        .footer {
            display: flex;
            justify-content: flex-end;
            margin-top: 8px;
        }

        .next-btn {
            border: none;
            padding: 10px 24px;
            border-radius: 999px;
            background-color: #1b5e20;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.95rem;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            opacity: 0.5;
            pointer-events: none;
            transition: background-color 0.15s ease, transform 0.1s ease,
            opacity 0.15s ease;
        }

        .next-btn.enabled {
            opacity: 1;
            pointer-events: auto;
        }

        .next-btn:hover {
            background-color: #2e7d32;
            transform: translateY(-1px);
        }

        .next-btn:active {
            transform: translateY(0);
        }

        .verse-box {
            margin-top: 20px;
            text-align: left;
            line-height: 1.6;
            font-size: 0.98rem;
            color: #4e342e;
        }

        .verse-box h2 {
            text-align: center;
            margin-bottom: 12px;
            color: #b71c1c;
        }

        .highlight-name {
            font-weight: 700;
            color: #b71c1c;
        }

        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 999px;
            background-color: #ffcdd2;
            color: #080000;
            font-weight: bold;
            font-size: 0.8rem;
            margin-bottom: 4px;
        }

        .name-input-box {
            text-align: center;
            margin-top: 24px;
        }

        .name-input-box label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.98rem;
        }

        .name-input-box input {
            padding: 8px 10px;
            width: 70%;
            max-width: 260px;
            border-radius: 999px;
            border: 1px solid #d7ccc8;
            outline: none;
            text-align: center;
            font-size: 0.95rem;
        }

        .start-btn {
            margin-top: 14px;
            border: none;
            padding: 9px 22px;
            border-radius: 999px;
            background-color: #1b5e20;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.95rem;
        }

        .start-btn:hover {
            background-color: #2e7d32;
        }

        @media (max-width: 600px) {
            .inner-card {
                padding: 20px 14px 22px;
            }

            .options-grid {
                gap: 8px 12px;
            }
        }
    </style>
</head>

<body>
<div class="wrapper">
    <div class="inner-card">
        <header>
            <h1>CHRISTMAS QUIZ ğŸ</h1>
            <p>í€´ì¦ˆë¥¼ í’€ê³  ë§ˆì§€ë§‰ì— ë§ì”€ ë¯¸ì…˜ê¹Œì§€ ì™„ë£Œí•´ ë³´ì„¸ìš”!</p>
        </header>

        <!-- STEP 0: ì´ë¦„ ì…ë ¥ -->
        <section id="step-0" class="step">
            <div class="question-box">
                <div class="question-number">STEP 0</div>
                <div class="question-text">
                    ë¨¼ì € ìê¸° ì´ë¦„ì„ ì„ íƒí•´ ì£¼ì„¸ìš” ğŸ˜Š
                </div>

                <div class="name-input-box">
                    <input
                            id="player-name"
                            type="text"
                            list="name-list"
                            placeholder="ì˜ˆ: ë¡œì´"
                    />
                    <datalist id="name-list">
                        <option value="ë¡œì´"></option>
                        <option value="ì´ë ˆ"></option>
                        <option value="ì•„ì—°"></option>
                        <option value="íƒœìš°"></option>
                        <option value="ì¬í›ˆ"></option>
                        <option value="ë‹¤ì€"></option>
                        <option value="ì±„ì›"></option>
                        <option value="ì†Œì˜"></option>
                        <option value="ìŠ¹í˜„"></option>
                    </datalist>

                    <button class="start-btn" onclick="startQuiz()">START âœ¨</button>
                </div>
            </div>
        </section>

        <!-- STEP 1 -->
        <section id="step-1" class="step" style="display: none;">
            <div class="question-box">
                <div class="question-number">QUESTION 1</div>
                <div class="question-text">
                    ì²­ë…„ë¶€ ì¤‘ì—ì„œ ê°€ì¥ ì˜ˆìœ ëˆ„ë‚˜/ì´ëª¨ëŠ” ëˆ„êµ¬ì¼ê¹Œìš”? ğŸ˜‰
                </div>

                <div class="options-grid">
                    <button class="option-btn opt-blue" onclick="checkAnswer(1, 1)">
                        <span class="star">â˜…</span>
                        <span class="option-text">í™©ì—¬ê²½</span>
                    </button>
                    <button class="option-btn opt-green" onclick="checkAnswer(1, 2)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ì •ë¡œì´</span>
                    </button>
                    <button class="option-btn opt-red" onclick="checkAnswer(1, 3)">
                        <span class="star">â˜…</span>
                        <span class="option-text">í™©ì„±ì¬</span>
                    </button>
                    <button class="option-btn opt-yellow" onclick="checkAnswer(1, 4)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ê°•í˜„ì„±</span>
                    </button>
                </div>

                <div id="message-1" class="message"></div>
            </div>

            <div class="footer">
                <button id="next-1" class="next-btn" onclick="goToStep(2)">
                    Next âœ
                </button>
            </div>
        </section>

        <!-- STEP 2 -->
        <section id="step-2" class="step" style="display: none;">
            <div class="question-box">
                <div class="question-number">QUESTION 2</div>
                <div class="question-text">
                    ì£¼ë‹˜ì€ ìš°ë¦¬ë“¤ì—ê²Œ<br />
                    "ë„ˆí¬ëŠ” ì„¸ìƒì˜ ___ ì´ë‹¤" ë¼ê³  í•˜ì…¨ì„ê¹Œìš”?
                </div>

                <div class="options-grid">
                    <button class="option-btn opt-blue" onclick="checkAnswer(2, 1)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ì—°í•„ê³¼ ì§€ìš°ê°œ</span>
                    </button>
                    <button class="option-btn opt-green" onclick="checkAnswer(2, 2)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ì†Œê¸ˆê³¼ ëˆˆ</span>
                    </button>
                    <button class="option-btn opt-red" onclick="checkAnswer(2, 3)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ì†Œê¸ˆê³¼ ë¹›</span>
                    </button>
                    <button class="option-btn opt-yellow" onclick="checkAnswer(2, 4)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ëˆˆê³¼ ë¹›</span>
                    </button>
                </div>

                <div id="message-2" class="message"></div>
            </div>

            <div class="footer">
                <button id="next-2" class="next-btn" onclick="goToStep(3)">
                    Next âœ
                </button>
            </div>
        </section>

        <!-- STEP 3 -->
        <section id="step-3" class="step" style="display: none;">
            <div class="question-box">
                <div class="question-number">QUESTION 3</div>
                <div class="question-text">
                    ë™ë°©ë°•ì‚¬ë“¤ì´ ì•„ê¸° ì˜ˆìˆ˜ë‹˜ê»˜ ì˜ˆë¬¼ë¡œ ë“œë¦° ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?
                </div>

                <div class="options-grid">
                    <button class="option-btn opt-blue" onclick="checkAnswer(3, 1)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ê¸°ë¦„, ìœ í–¥, ëª°ì•½</span>
                    </button>
                    <button class="option-btn opt-green" onclick="checkAnswer(3, 2)">
                        <span class="star">â˜…</span>
                        <span class="option-text">í™©ê¸ˆ, ëª°ì•½, í–¥ìˆ˜</span>
                    </button>
                    <button class="option-btn opt-red" onclick="checkAnswer(3, 3)">
                        <span class="star">â˜…</span>
                        <span class="option-text">í™©ê¸ˆ, ìœ í–¥, ëª°ì•½</span>
                    </button>
                    <button class="option-btn opt-yellow" onclick="checkAnswer(3, 4)">
                        <span class="star">â˜…</span>
                        <span class="option-text">í™©ê¸ˆ, ìœ í–¥, ì•ˆì•½</span>
                    </button>
                </div>

                <div id="message-3" class="message"></div>
            </div>

            <div class="footer">
                <button id="next-3" class="next-btn" onclick="goToStep(4)">
                    Next âœ
                </button>
            </div>
        </section>

        <!-- STEP 4 -->
        <section id="step-4" class="step" style="display: none;">
            <div class="question-box">
                <div class="question-number">QUESTION 4</div>
                <div class="question-text">
                    ì˜ˆìˆ˜ë‹˜ì´ íƒ„ìƒí•˜ì‹¤ ë•Œ<br />
                    ëˆ„ê°€ ëª©ìë“¤ì—ê²Œ ì´ ì†Œì‹ì„ ì•Œë ¤ì£¼ì—ˆë‚˜ìš”?
                </div>

                <div class="options-grid">
                    <button class="option-btn opt-blue" onclick="checkAnswer(4, 1)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ë§ˆë¦¬ì•„</span>
                    </button>
                    <button class="option-btn opt-green" onclick="checkAnswer(4, 2)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ìš”ì…‰</span>
                    </button>
                    <button class="option-btn opt-red" onclick="checkAnswer(4, 3)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ë§ˆê·€</span>
                    </button>
                    <button class="option-btn opt-yellow" onclick="checkAnswer(4, 4)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ì²œì‚¬</span>
                    </button>
                </div>

                <div id="message-4" class="message"></div>
            </div>

            <div class="footer">
                <button id="next-4" class="next-btn" onclick="goToStep(5)">
                    Next âœ
                </button>
            </div>
        </section>

        <!-- STEP 5 -->
        <section id="step-5" class="step" style="display: none;">
            <div class="question-box">
                <div class="question-number">QUESTION 5</div>
                <div class="question-text">
                    ëª©ìë“¤ì—ê²Œ ì²œì‚¬ë“¤ì´ ì „í•˜ì—¬ ì¤€ ë‚´ìš©ì…ë‹ˆë‹¤.<br />
                    ë¹ˆì¹¸ì— ë“¤ì–´ê°ˆ ë§ì€ ë¬´ì—‡ì¼ê¹Œìš”?
                </div>

                <div class="question-text" style="font-size: 0.95rem; margin-top: 4px;">
                    "ì§€ê·¹íˆ ë†’ì€ ê³³ì—ì„œëŠ” í•˜ë‚˜ë‹˜ê»˜ ------ì´ìš”<br />
                    ë•…ì—ì„œëŠ” ê¸°ë»í•˜ì‹¬ì„ ì…ì€ ì‚¬ëŒë“¤ ì¤‘ì— -----ë¡œë‹¤"
                </div>

                <div class="options-grid" style="margin-top: 16px;">
                    <button class="option-btn opt-blue" onclick="checkAnswer(5, 1)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ì˜ê´‘, ì€í˜œ</span>
                    </button>
                    <button class="option-btn opt-green" onclick="checkAnswer(5, 2)">
                        <span class="star">â˜…</span>
                        <span class="option-text">í‰ê°•, ì€í˜œ</span>
                    </button>
                    <button class="option-btn opt-red" onclick="checkAnswer(5, 3)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ì‚¬ë‘, í‰í™”</span>
                    </button>
                    <button class="option-btn opt-yellow" onclick="checkAnswer(5, 4)">
                        <span class="star">â˜…</span>
                        <span class="option-text">ì˜ê´‘, í‰í™”</span>
                    </button>
                </div>

                <div id="message-5" class="message"></div>
            </div>

            <div class="footer">
                <button id="next-5" class="next-btn" onclick="goToStep(6)">
                    Finish ğŸ
                </button>
            </div>
        </section>

        <!-- STEP 6 : ì´ë¦„ë³„ ë§ì”€ ë¯¸ì…˜ -->
        <section id="step-6" class="step" style="display: none;">
            <div class="question-box">
                <div class="question-number">MISSION ğŸ„</div>

                <div class="question-text" >
                </div>

                <div class="verse-box" style="text-align: center;">
                    <div class="badge"><span id="final-name-text"></span> ë¶€ëª¨ë‹˜ì´ ì£¼ì‹  ì„±ê²½êµ¬ì ˆğŸ’œ</div>
                    <h2 id="verse-ref">ìš”í•œë³µìŒ 3:16</h2>
                    <p id="verse-text" style="margin-top: 8px; word-break: keep-all; text-align: center;">
                        "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ<br />
                        ì´ëŠ” ì €ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§ì¹˜ ì•Šê³ <br />
                        ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë‹ˆë¼â€
                    </p>

                    <p style="margin-top: 30px; text-align: center;">
                        <span class="highlight-name">ğŸ‘‰ ì´ì œ í™©ì—¬ê²½ìŒ¤</span>ì—ê²Œ ê°€ì„œ<br />
                        ë§ì”€ì„ ì•”ì†¡í•˜ê³  ì„ ë¬¼ì„ ë°›ì•„ê°€ì„¸ìš”! ğŸ
                    </p>
                </div>
            </div>
        </section>
    </div>
</div>

<script>
    // ì´ë¦„ & ë§ì”€ ë§¤í•‘ (ë‚˜ì¤‘ì— ê°ì ë§ì”€ìœ¼ë¡œ ììœ ë¡­ê²Œ ìˆ˜ì • ê°€ëŠ¥)
    const verseMap = {
        "ë¡œì´": {
            ref: "ìš”í•œë³µìŒ 3:16",
            text:
                "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ<br />" +
                "ì´ëŠ” ì €ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§ì¹˜ ì•Šê³ <br />" +
                "ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë‹ˆë¼"
        },
        "ì´ë ˆ": {
            ref: "ìš”í•œë³µìŒ 3:16",
            text:
                "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ<br />" +
                "ì´ëŠ” ì €ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§ì¹˜ ì•Šê³ <br />" +
                "ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë‹ˆë¼"
        },
        "ì•„ì—°": {
            ref: "ìš”í•œë³µìŒ 3ì¥ 16ì ˆ",
            text:
                "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ<br />" +
                "ì´ëŠ” ì €ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§ì¹˜ ì•Šê³ <br />" +
                "ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë‹ˆë¼"
        },
        "íƒœìš°": {
            ref: "ìš”í•œë³µìŒ 14ì¥ 6ì ˆ",
            text:
                "ì˜ˆìˆ˜ê»˜ì„œ ì´ë¥´ì‹œë˜ ë‚´ê°€ ê³§ ê¸¸ì´ìš” ì§„ë¦¬ìš” ìƒëª…ì´ë‹ˆ<br />" +
                "ë‚˜ë¡œ ë§ë¯¸ì•”ì§€ ì•Šê³ ëŠ” ì•„ë²„ì§€ê»˜ë¡œ ì˜¬ ìê°€ ì—†ëŠë‹ˆë¼"
        },
        "ì¬í›ˆ": {
            ref: "ìš”í•œë³µìŒ 3:16",
            text:
                "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ<br />" +
                "ì´ëŠ” ì €ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§ì¹˜ ì•Šê³ <br />" +
                "ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë‹ˆë¼"
        },
        "ë‹¤ì€": {
            ref: "ìš”í•œë³µìŒ 3:16",
            text:
                "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ<br />" +
                "ì´ëŠ” ì €ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§ì¹˜ ì•Šê³ <br />" +
                "ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë‹ˆë¼"
        },
        "ì±„ì›": {
            ref: "ìš”í•œë³µìŒ 3:16",
            text:
                "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ<br />" +
                "ì´ëŠ” ì €ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§ì¹˜ ì•Šê³ <br />" +
                "ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë‹ˆë¼"
        },
        "ì†Œì˜": {
            ref: "ìš”í•œë³µìŒ 3:16",
            text:
                "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ<br />" +
                "ì´ëŠ” ì €ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§ì¹˜ ì•Šê³ <br />" +
                "ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë‹ˆë¼"
        },
        "ìŠ¹í˜„": {
            ref: "ìš”í•œë³µìŒ 3:16",
            text:
                "í•˜ë‚˜ë‹˜ì´ ì„¸ìƒì„ ì´ì²˜ëŸ¼ ì‚¬ë‘í•˜ì‚¬ ë…ìƒìë¥¼ ì£¼ì…¨ìœ¼ë‹ˆ<br />" +
                "ì´ëŠ” ì €ë¥¼ ë¯¿ëŠ” ìë§ˆë‹¤ ë©¸ë§ì¹˜ ì•Šê³ <br />" +
                "ì˜ìƒì„ ì–»ê²Œ í•˜ë ¤ í•˜ì‹¬ì´ë‹ˆë¼"
        }
    };

    // ì •ë‹µ: 1~5ë²ˆ ë¬¸ì œ
    const answers = {
        1: 1,
        2: 3,
        3: 3,
        4: 4,
        5: 4
    };

    let currentName = "";
    let isLocked = false;
    let countdownIntervalId = null;

    function startQuiz() {
        const input = document.getElementById("player-name");
        const name = (input.value || "").trim();

        const allowedNames = [
            "ë¡œì´",
            "ì´ë ˆ",
            "ì•„ì—°",
            "íƒœìš°",
            "ì¬í›ˆ",
            "ë‹¤ì€",
            "ì±„ì›",
            "ì†Œì˜",
            "ìŠ¹í˜„"
        ];

        if (!allowedNames.includes(name)) {
            alert("ì´ë¦„ì„ ì •í™•íˆ ì…ë ¥í•´ ì£¼ì„¸ìš” ğŸ™‚\n(ë¡œì´, ì´ë ˆ, ì•„ì—°, íƒœìš°, ì¬í›ˆ, ë‹¤ì€, ì±„ì›, ì†Œì˜, ìŠ¹í˜„)");
            input.focus();
            return;
        }

        currentName = name;
        goToStep(1);
    }

    function resetMessage(step) {
        const msg = document.getElementById("message-" + step);
        if (!msg) return;
        msg.textContent = "";
        msg.className = "message";
    }

    function setButtonsDisabled(step, disabled) {
        const section = document.getElementById("step-" + step);
        if (!section) return;
        const buttons = section.querySelectorAll(".option-btn");
        buttons.forEach((btn) => {
            if (disabled) {
                btn.classList.add("disabled");
            } else {
                btn.classList.remove("disabled");
            }
        });
    }

    function checkAnswer(step, choice) {
        if (isLocked) return; // ì ê¸ˆ ì¤‘ì´ë©´ í´ë¦­ ë¬´ì‹œ

        const msg = document.getElementById("message-" + step);
        const nextBtn = document.getElementById("next-" + step);

        // ì •ë‹µ
        if (choice === answers[step]) {
            msg.innerHTML = "ì •ë‹µì…ë‹ˆë‹¤! âœ ì•„ë˜ Next ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš” ğŸ‰";
            msg.className = "message correct";
            if (nextBtn) {
                nextBtn.classList.add("enabled");
            }
        } else {
            // ì˜¤ë‹µì¼ ê²½ìš° 3ì´ˆ ì ê¸ˆ + ì¹´ìš´íŠ¸ë‹¤ìš´
            msg.className = "message wrong";
            let remaining = 3;
            msg.innerHTML =
                "ì•—! ë‹¤ì‹œ í•œ ë²ˆ ìƒê°í•´ë³¼ê¹Œìš”? ğŸ˜Š<br>â³ " + remaining + "ì´ˆ ë’¤ì— ë‹¤ì‹œ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”";

            isLocked = true;
            setButtonsDisabled(step, true);

            if (countdownIntervalId) {
                clearInterval(countdownIntervalId);
            }

            countdownIntervalId = setInterval(() => {
                remaining--;
                if (remaining > 0) {
                    msg.innerHTML =
                        "ì•—! ë‹¤ì‹œ í•œ ë²ˆ ìƒê°í•´ë³¼ê¹Œìš”? ğŸ˜Š<br>â³ " +
                        remaining +
                        "ì´ˆ ë’¤ì— ë‹¤ì‹œ ì„ íƒí•  ìˆ˜ ìˆì–´ìš”";
                } else {
                    clearInterval(countdownIntervalId);
                    countdownIntervalId = null;
                    isLocked = false;
                    setButtonsDisabled(step, false);
                    msg.className = "message";
                    msg.textContent = "ì´ì œ ë‹¤ì‹œ ê³¨ë¼ë³´ì„¸ìš”! âœ¨";
                }
            }, 1000);
        }
    }

    function goToStep(step) {
        // ëª¨ë“  step ìˆ¨ê¸°ê¸°
        const steps = document.querySelectorAll(".step");
        steps.forEach((el) => (el.style.display = "none"));

        // ì ê¸ˆ/ì¹´ìš´íŠ¸ë‹¤ìš´ ì´ˆê¸°í™”
        isLocked = false;
        if (countdownIntervalId) {
            clearInterval(countdownIntervalId);
            countdownIntervalId = null;
        }

        // ë©”ì‹œì§€ ë¦¬ì…‹ (ë¬¸ì œ ë‹¨ê³„ì¼ ë•Œ)
        if (step >= 1 && step <= 5) {
            resetMessage(step);
            setButtonsDisabled(step, false);
        }

        // ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ ì´ë¦„/ë§ì”€ ì„¸íŒ…
        if (step === 6) {
            const nameSpan = document.getElementById("final-name-text");
            const verseRef = document.getElementById("verse-ref");
            const verseText = document.getElementById("verse-text");

            nameSpan.textContent = currentName || "";
            const verse = verseMap[currentName] || verseMap["ë¡œì´"]; // í˜¹ì‹œ ëª¨ë¥¼ ì˜ˆì™¸ìš©

            verseRef.textContent = verse.ref;
            verseText.innerHTML = verse.text;
        }

        const target = document.getElementById("step-" + step);
        if (target) {
            target.style.display = "block";
        }
    }
</script>
</body>
</html>
